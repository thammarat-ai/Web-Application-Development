---
icon: shield-slash
---

# ข้อเสียของ Node

ข้อได้เปรียบของ Node ที่กล่าวมาข้างต้นทำให้มันเป็นเทคโนโลยีที่เหมาะสำหรับ web API แอปพลิเคชันบนเบราว์เซอร์ที่ซับซ้อนซึ่งเลียนแบบแอปพลิเคชันบนเดสก์ท็อปแต่ต้องพึ่งพาการประมวลผลฝั่งเซิร์ฟเวอร์อย่างมาก และแอปพลิเคชันที่ต้องการการตอบสนองแบบ real-time และ push-based ที่รวดเร็ว เช่น เกมมือถือหรือโปรแกรมส่งข้อความ&#x20;

อย่างไรก็ตาม Node ไม่ได้เหมาะสำหรับแอปพลิเคชันบนเว็บทุกประเภทแม้ว่า Node สามารถใช้สร้างเว็บไซต์ข้อมูลแบบดั้งเดิมได้ แต่มันไม่ใช่เครื่องมือที่ง่ายที่สุดในการสร้างเว็บไซต์ประเภทนี้&#x20;

สำหรับเว็บไซต์ที่ข้อมูลอยู่ในฐานข้อมูลแบบ relational ดั้งเดิม เช่น Oracle, PostgresSQL หรือ MySQL การเข้าถึงข้อมูลเหล่านั้นใน Node มักเป็นงานโปรแกรมมิ่งที่ซับซ้อน&#x20;

Node เหมาะสมกว่าสำหรับการพัฒนาแอปพลิเคชันแบบ real-time ที่ใช้ข้อมูลเข้มข้น ซึ่งต้องโต้ตอบกับคอมพิวเตอร์ที่กระจายตัวและมีแหล่งข้อมูลเป็นฐานข้อมูล noSQL

ตัวอย่างเช่น สมมติว่าเว็บแอปพลิเคชันของเราต้องติดตามการวิเคราะห์การเคลื่อนไหวของเมาส์หรือแม้แต่การคลิกปุ่ม Like เว็บไซต์เช่นนี้ จะต้องจัดการกับการเขียนข้อมูลพร้อมกันจำนวนมหาศาล แม้ว่าอาจใช้ฐานข้อมูลแบบ relational ที่รองรับ transaction สำหรับงานนี้ได้ แต่การเขียนลงฐานข้อมูลแบบ relational เป็นกระบวนการที่ช้าและจะกลายเป็นคอขวดด้านประสิทธิภาพ ระบบที่ใช้ Node สามารถใช้ระบบคิวข้อความแบบใช้หน่วยความจำแทน ซึ่งจะเก็บบันทึกการเปลี่ยนแปลงข้อมูลทั้งหมด และการเปลี่ยนแปลงเหล่านั้นสามารถถูกบันทึกอย่างถาวรในภายหลังได้ ดังที่แสดงในรูปที่ 4

<figure><img src="../../.gitbook/assets/image (5).png" alt=""><figcaption><p>รูปที่ 4 การจัดการกับข้อมูลที่เปลี่ยนแปลงจำนวนมากใน Node</p></figcaption></figure>

สถาปัตยกรรมแบบเธรดเดียวและไม่บล็อกของ Node ไม่เหมาะสำหรับงานที่ต้องใช้การคำนวณมาก เช่น การประมวลผลวิดีโอหรือการคำนวณทางวิทยาศาสตร์ งานคำนวณที่ใช้เวลานานจะครอบครองเธรดเดียวนั้น ทำให้งานอื่นๆ ไม่สามารถทำงานได้ แม้ว่า Node จะมีลักษณะการทำงานแบบอะซิงโครนัสก็ตาม&#x20;

Node เหมาะสมกว่าสำหรับงานที่เน้น I/O มาก ซึ่งวิธีการทำงานแบบไม่บล็อกจะจัดการกับความล่าช้าของ I/O ได้ดีกว่า แม้ว่า Node จะใช้ JavaScript แต่แม้แต่นักพัฒนา JavaScript ที่มีประสบการณ์ก็อาจพบว่าลักษณะการทำงานแบบอะซิงโครนัสของการเขียนโปรแกรม Node นั้นยากที่จะเชี่ยวชาญ คิวคอลแบ็คที่ซ้อนกันอย่างซับซ้อนเป็นเรื่องปกติใน Node และแม้จะมีการรองรับ promises และ async...await ใน Node เมื่อไม่นานมานี้ แอปพลิเคชันใน Node ก็อาจมีความซับซ้อนในการพัฒนาและบำรุงรักษามากกว่าใน PHP หรือ JavaScript ฝั่งไคลเอนต์อย่างมีนัยสำคัญ

{% hint style="info" %}
การรันตัวอย่าง Node ในวิชานี้ คุณจำเป็นต้องเข้าถึงเครื่องที่มี Node ติดตั้งอยู่ ซึ่งอาจเป็นเครื่อง Mac หรือ Windows ที่ใช้พัฒนาของคุณ หรืออาจเป็นสภาพแวดล้อมภายนอกบางประเภท



### การติดตั้ง Node

หากต้องการรัน Node ในเครื่องพัฒนา Windows หรือ Mac คุณจะต้องดาวน์โหลดตัวติดตั้งจากเว็บไซต์ [Node.js](https://nodejs.org/en/download) หากต้องการติดตั้ง Node บนสภาพแวดล้อม Linux คุณอาจต้องรันคำสั่ง curl และ sudo เว็บไซต์ Node มีคำแนะนำสำหรับสภาพแวดล้อม Linux ส่วนใหญ่

Node มีให้เลือกสองเวอร์ชัน: เวอร์ชัน LTS (Long-Term Support) และเวอร์ชัน Current เวอร์ชัน LTS มุ่งเน้นไปที่ผู้ใช้องค์กรที่ต้องการเวอร์ชันเสถียรที่ได้รับการตรวจสอบแล้ว และมักจะเก่ากว่าเวอร์ชัน Current สองสามปี สำหรับนักพัฒนาใหม่ เราแนะนำให้คุณติดตั้งเวอร์ชัน Current



### การตรวจสอบ Node

ในการรัน Node คุณจะต้องใช้ Terminal/Bash/Command Window คุณสามารถตรวจสอบว่า Node ทำงานได้โดยพิมพ์คำสั่งต่อไปนี้:

```javascript
node -v
npm -v
npx -v
```

คำสั่งแรกแสดงเวอร์ชันของ Node ที่ติดตั้งในระบบของคุณ คำสั่งที่สองจะแสดงหมายเลขเวอร์ชันของ npm ซึ่งเป็น Node Package Manager ที่เป็นส่วนหนึ่งของการติดตั้ง Node คำสั่งที่สาม (npx) เป็นคำสั่งสำหรับการเรียกใช้แพ็คเกจ Node&#x20;



### Node Package Manager

Node Package Manager (หรือที่เรียกกันทั่วไปว่า npm) เป็นหนึ่งในเครื่องมือสำคัญที่ติดตั้งมาพร้อมกับ Node มันเป็นเครื่องมือที่ใช้งานผ่านคอมมานด์ไลน์ซึ่งสามารถใช้ได้แม้ว่าคุณจะไม่ได้ใช้สภาพแวดล้อมอื่นๆ ของ Node

อย่างที่คุณอาจเดาได้แล้ว npm ใช้สำหรับติดตั้งแพ็คเกจ JavaScript แพ็คเกจเหล่านี้สามารถติดตั้งแบบโลคอลภายในโฟลเดอร์ node\_modules ในโฟลเดอร์หลักของเว็บแอปพลิเคชัน แพ็คเกจยังสามารถติดตั้งแบบโกลบอลบนเครื่องของคุณได้ โดย npx เป็นเครื่องมือที่แนะนำให้ใช้สำหรับงานนี้&#x20;

ทำไมคุณถึงต้องการแพ็คเกจแบบโกลบอล?&#x20;

เหตุผลก็คือแพ็คเกจ npm บางตัวเป็นแอปพลิเคชันที่คุณเรียกใช้จากคอมมานด์ไลน์ เครื่องมือ create-react-app ที่ได้รับความนิยมเป็นตัวอย่างของแพ็คเกจที่คุณติดตั้งแบบโกลบอล

ในการติดตั้งแพ็คเกจ npm แบบโลคอล คุณเพียงแค่ใช้คำสั่ง npm install ตัวอย่างเช่น คำสั่งต่อไปนี้จะติดตั้งเฟรมเวิร์ก Express ที่ได้รับความนิยมลงในโฟลเดอร์ปัจจุบัน:

```
npm install -save express
```

คำสั่งนี้ทำอะไรกันแน่?&#x20;

มันสร้างโฟลเดอร์ชื่อ node\_modules หากยังไม่มีอยู่ จากนั้นดึงโฟลเดอร์และไฟล์ JavaScript ทั้งหมดที่เป็นส่วนหนึ่งของแพ็คเกจ Express เวอร์ชันล่าสุดจากรีจิสทรีออนไลน์ npmjs.com และคัดลอกลงในโฟลเดอร์ node\_modules ในเครื่องของคุณ เว็บไซต์ npmjs.com มีแพ็คเกจส่วนตัวและสาธารณะมากกว่าหนึ่งล้านแพ็คเกจ และได้กลายเป็นส่วนสำคัญของขั้นตอนการทำงานของนักพัฒนาเว็บหลายคน เช่นเดียวกับ GitHub

หนึ่งในจุดเด่นหลักของ npm คือคุณสามารถระบุการพึ่งพา (dependencies) ได้: นั่นคือ คุณสามารถระบุว่าแพ็คเกจใดและเวอร์ชันใดของแต่ละแพ็คเกจที่ใช้ในแอปพลิเคชันของคุณ คุณทำเช่นนี้โดยการสร้างไฟล์ package.json ซึ่งอยู่ในรูทของแอปพลิเคชันของคุณ คุณสามารถให้ npm สร้างไฟล์นี้ให้คุณผ่านคำสั่ง:

```
npm init
```

แฟล็ก -save ที่ใช้ในตัวอย่างข้างต้นเพื่อติดตั้ง express จะเพิ่มการพึ่งพาไปยัง express ในไฟล์ package.json ตั้งแต่เวอร์ชัน 5 เป็นต้นมา แฟล็ก save ไม่จำเป็นอีกต่อไปเนื่องจากเป็นพฤติกรรมเริ่มต้นแล้ว (นั่นคือ npm จะเพิ่มการพึ่งพาไปยัง package.json โดยอัตโนมัติเมื่อคุณใช้คำสั่ง install) ในอนาคต คุณสามารถอัปเดตโปรเจ็คของคุณได้โดยการรันคำสั่ง npm update ระบบ npm จะตรวจสอบรีพอสิทอรีออนไลน์ npmjs.com เพื่อหาการอัปเดตสำหรับการพึ่งพาใดๆ และหากมี ก็จะถูกดาวน์โหลด หากคุณใช้เครื่องมือ create-react-app นี่คือสิ่งที่เครื่องมือนั้นทำให้คุณโดยพื้นฐาน: ดาวน์โหลดและติดตั้งแพ็คเกจที่ระบุในไฟล์ package.json

หากคุณใช้ Git (หรือระบบควบคุมเวอร์ชันอื่นๆ) คุณอาจไม่ต้องการรวมไฟล์ต่างๆ ที่ติดตั้งโดย npm ในโฟลเดอร์ node\_modules ไว้ในรีพอสิทอรีของคุณ เพื่อหลีกเลี่ยงสิ่งนี้ เป็นเรื่องปกติที่จะรวมไฟล์ .gitignore ไว้ในโฟลเดอร์รูทของคุณซึ่งมีบรรทัดที่มีข้อความนี้:

```
node_modules
```
{% endhint %}
